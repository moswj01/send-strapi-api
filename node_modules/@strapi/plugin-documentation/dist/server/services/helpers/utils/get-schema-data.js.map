{"version":3,"file":"get-schema-data.js","sources":["../../../../../server/src/services/helpers/utils/get-schema-data.ts"],"sourcesContent":["import type { OpenAPIV3 } from 'openapi-types';\n\n/**\n * @description Determines the format of the data response\n *\n * @param {boolean} isListOfEntities - Checks for a multiple entities\n * @param {object} attributes - The attributes found on a contentType\n\n * @returns object | array of attributes\n */\nexport default (\n  isListOfEntities: boolean,\n  attributes: Record<string, OpenAPIV3.SchemaObject | OpenAPIV3.ReferenceObject>\n): OpenAPIV3.SchemaObject => {\n  if (isListOfEntities) {\n    return {\n      type: 'array',\n      items: {\n        type: 'object',\n        properties: {\n          id: { oneOf: [{ type: 'string' }, { type: 'number' }] },\n          documentId: { type: 'string' },\n          ...attributes,\n        },\n      },\n    };\n  }\n\n  return {\n    type: 'object',\n    properties: {\n      id: { oneOf: [{ type: 'string' }, { type: 'number' }] },\n      documentId: { type: 'string' },\n      ...attributes,\n    },\n  };\n};\n"],"names":["isListOfEntities","attributes","type","items","properties","id","oneOf","documentId"],"mappings":";;AAEA;;;;;;;IAQA,oBAAe,CAAA,CACbA,gBACAC,EAAAA,UAAAA,GAAAA;AAEA,IAAA,IAAID,gBAAkB,EAAA;QACpB,OAAO;YACLE,IAAM,EAAA,OAAA;YACNC,KAAO,EAAA;gBACLD,IAAM,EAAA,QAAA;gBACNE,UAAY,EAAA;oBACVC,EAAI,EAAA;wBAAEC,KAAO,EAAA;AAAC,4BAAA;gCAAEJ,IAAM,EAAA;AAAS,6BAAA;AAAG,4BAAA;gCAAEA,IAAM,EAAA;AAAS;AAAE;AAAC,qBAAA;oBACtDK,UAAY,EAAA;wBAAEL,IAAM,EAAA;AAAS,qBAAA;AAC7B,oBAAA,GAAGD;AACL;AACF;AACF,SAAA;AACF;IAEA,OAAO;QACLC,IAAM,EAAA,QAAA;QACNE,UAAY,EAAA;YACVC,EAAI,EAAA;gBAAEC,KAAO,EAAA;AAAC,oBAAA;wBAAEJ,IAAM,EAAA;AAAS,qBAAA;AAAG,oBAAA;wBAAEA,IAAM,EAAA;AAAS;AAAE;AAAC,aAAA;YACtDK,UAAY,EAAA;gBAAEL,IAAM,EAAA;AAAS,aAAA;AAC7B,YAAA,GAAGD;AACL;AACF,KAAA;AACF,CAAA;;;;"}