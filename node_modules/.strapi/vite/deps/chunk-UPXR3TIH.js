import {
  Toaster,
  toast
} from "./chunk-HZTR3SOM.js";
import {
  Alert,
  Box,
  Link,
  useIntl
} from "./chunk-JDIU5BXJ.js";
import {
  require_jsx_runtime
} from "./chunk-LMPM4PM5.js";
import {
  require_react
} from "./chunk-D3I3COXH.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/@strapi/admin/dist/admin/admin/src/features/Notifications.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var React = __toESM(require_react(), 1);
var NotificationsContext = React.createContext({
  toggleNotification: () => {
  }
});
var NotificationsProvider = ({ children }) => {
  const toggleNotification = React.useCallback(({ type, message, link, timeout, blockTransition, onClose, title }) => {
    toast.custom((id) => {
      return (0, import_jsx_runtime.jsx)(Box, {
        width: "50rem",
        maxWidth: "100%",
        children: (0, import_jsx_runtime.jsx)(Notification, {
          type,
          message,
          title,
          link,
          clearNotification: () => {
            toast.dismiss(id);
            onClose == null ? void 0 : onClose();
          }
        })
      });
    }, {
      duration: blockTransition ? Infinity : timeout
    });
  }, []);
  const value = React.useMemo(() => ({
    toggleNotification
  }), [
    toggleNotification
  ]);
  return (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, {
    children: [
      (0, import_jsx_runtime.jsx)(Toaster, {
        position: "top-center"
      }),
      (0, import_jsx_runtime.jsx)(NotificationsContext.Provider, {
        value,
        children
      })
    ]
  });
};
var Notification = ({ clearNotification, link, message, onClose, title, type }) => {
  const { formatMessage } = useIntl();
  const getVariant = () => {
    switch (type) {
      case "info":
        return "default";
      case "danger":
        return "danger";
      case "warning":
        return "warning";
      default:
        return "success";
    }
  };
  return (0, import_jsx_runtime.jsx)(Alert, {
    action: link ? (0, import_jsx_runtime.jsx)(Link, {
      href: link.url,
      isExternal: true,
      children: link.label
    }) : void 0,
    onClose: () => {
      onClose == null ? void 0 : onClose();
      clearNotification();
    },
    closeLabel: formatMessage({
      id: "global.close",
      defaultMessage: "Close"
    }),
    title,
    variant: getVariant(),
    children: message
  });
};
var useNotification = () => React.useContext(NotificationsContext);

export {
  NotificationsProvider,
  useNotification
};
/*! Bundled license information:

@strapi/admin/dist/admin/admin/src/features/Notifications.mjs:
  (**
  * @preserve
  * @description Returns an object to interact with the notification
  * system. The callbacks are wrapped in `useCallback` for a stable
  * identity.
  *
  * @example
  * ```tsx
  * import { useNotification } from '@strapi/strapi/admin';
  *
  * const MyComponent = () => {
  *  const { toggleNotification } = useNotification();
  *
  *  return <button onClick={() => toggleNotification({ message: 'Hello world!' })}>Click me</button>;
  *)
*/
//# sourceMappingURL=chunk-UPXR3TIH.js.map
